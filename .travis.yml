services:
  - docker

install:
  - docker run -v "${PWD}":/app -w /app tevun/quasar:latest yarn install
  - 'if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then bash ./.travis.sh; fi'

script:
  - 'if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then yarn test; fi'

deploy:
  skip_cleanup: true
  provider: pages
  github_token: $GITHUB_TOKEN
  verbose: true
  on:
    master: true
